create table tb_endereco (id bigint generated by default as identity, bairro varchar(255), cep varchar(255), localidade varchar(255), logradouro varchar(255), uf varchar(255), primary key (id));
create table tb_evento (data_inicio date, data_termino date, id bigint generated by default as identity, local varchar(255), nome_evento varchar(255), site varchar(255), descricao TEXT, primary key (id));
create table tb_inscricao (data_hora_inscricao timestamp(6), id bigint generated by default as identity, palestra_id bigint not null, participante_id bigint not null, primary key (id));
create table tb_palestra (limite_vagas integer, data_hora timestamp(6), evento_id bigint, id bigint generated by default as identity, local varchar(255), nome_palestra varchar(255), palestrante varchar(255), primary key (id));
create table tb_participante (endereco_id bigint, tipo_participante_id bigint, usuario_id bigint not null, complemento varchar(255), nome varchar(255), numero varchar(255), sobrenome varchar(255), telefone varchar(255), primary key (usuario_id));
create table tb_tipo_participante (id bigint generated by default as identity, descricao varchar(255), primary key (id));
create table tb_usuario (id bigint generated by default as identity, email varchar(255) not null unique, role varchar(255) check (role in ('ADMINISTRADOR','ORGANIZADOR','PARTICIPANTE')), senha varchar(255) not null, primary key (id));
alter table if exists tb_inscricao add constraint FK2rmr77cegko0oldir0l7bkt9m foreign key (palestra_id) references tb_palestra;
alter table if exists tb_inscricao add constraint FKgna5dwqcmoo70eksofpbw7elt foreign key (participante_id) references tb_participante;
alter table if exists tb_palestra add constraint FKefcnomx4ath075ca2o8fxf1fd foreign key (evento_id) references tb_evento;
alter table if exists tb_participante add constraint FKc73uhn4g4dx263flvwhj9kkjj foreign key (endereco_id) references tb_endereco;
alter table if exists tb_participante add constraint FK1h11y8c5g8nfynu41jasmvxq5 foreign key (tipo_participante_id) references tb_tipo_participante;
alter table if exists tb_participante add constraint FKr0mv0udu3ul38pgh08jh272dv foreign key (usuario_id) references tb_usuario;
INSERT INTO tb_tipo_participante(descricao) VALUES ('Aluno(a)');
INSERT INTO tb_tipo_participante(descricao) VALUES ('Professor(a)');
INSERT INTO tb_tipo_participante(descricao) VALUES ('Outros');
INSERT INTO tb_endereco (cep) VALUES ('85851-000');
INSERT INTO tb_endereco (cep) VALUES ('85810-030');
INSERT INTO tb_endereco (cep) VALUES ('85900-000');
INSERT INTO tb_endereco (cep) VALUES ('80010-000');
INSERT INTO tb_endereco (cep) VALUES ('86010-160');
